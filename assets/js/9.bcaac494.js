(window.webpackJsonp=window.webpackJsonp||[]).push([[9],{325:function(e,t,s){e.exports=s.p+"assets/img/venus-arch.5976e096.png"},411:function(e,t,s){"use strict";s.r(t);var n=s(17),a=Object(n.a)({},(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[n("h2",{attrs:{id:"背景"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#背景"}},[e._v("#")]),e._v(" 背景")]),e._v(" "),n("p",[e._v("考虑到庞大的初始硬件和 Filecoin 质押"),n("a",{attrs:{href:"https://filscan.io/calculator",target:"_blank",rel:"noopener noreferrer"}},[e._v("投资"),n("OutboundLink")],1),e._v("以及相关的运营成本，开始 Filecoin 存储提供是一项艰巨的任务。囊括了分布式部署架构，订单服务和算力服务，Venus 将帮助存储提供者，如社区所说，把"),n("a",{attrs:{href:"https://filecoinproject.slack.com/archives/CEGN061C5/p1610810730117900?thread_ts=1610809298.116800&cid=CEGN061C5",target:"_blank",rel:"noopener noreferrer"}},[e._v("全职工作"),n("OutboundLink")],1),e._v("变成为一个对运维更加友好的解决方案。希望本教程能让您立即开始存储提供！")]),e._v(" "),n("h2",{attrs:{id:"如何提供存储服务"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#如何提供存储服务"}},[e._v("#")]),e._v(" 如何提供存储服务")]),e._v(" "),n("p",[e._v("有两种方法可以开始使用 Venus 来提供存储服务。")]),e._v(" "),n("ol",[n("li",[e._v("部署最少的硬件并获得第三方"),n("code",[e._v("Venus")]),e._v("链服务的帐号。欢迎了解"),n("code",[e._v("Venus")]),e._v("孵化器"),n("a",{attrs:{href:"https://venushub.io/zh/incubator/",target:"_blank",rel:"noopener noreferrer"}},[e._v("项目"),n("OutboundLink")],1),e._v("，加入"),n("code",[e._v("Venus")]),e._v("团队提供的免费链服务。(请参阅"),n("RouterLink",{attrs:{to:"/zh/operation/join-a-cs.html"}},[e._v("这个")]),e._v("教程以了解更多信息)")],1),e._v(" "),n("li",[e._v("自行部署"),n("code",[e._v("Venus")]),e._v("链服务。(请参阅"),n("RouterLink",{attrs:{to:"/zh/operation/deploy-a-cs.html"}},[e._v("这个")]),e._v("教程以了解更多信息)")],1)]),e._v(" "),n("p",[e._v("在遵循其余的教程和成功部署后，您可以开始封装扇区，增加算力并通过您对网络存储容量的贡献最终获得区块奖励！")]),e._v(" "),n("h2",{attrs:{id:"venus-组件介绍"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#venus-组件介绍"}},[e._v("#")]),e._v(" venus 组件介绍")]),e._v(" "),n("p",[e._v("根据其在挖矿集群中的作用，模块可以大致分为两类：链服务组件和本地组件。链服务可以被认为是开始封装扇区所需的基础。大多数与区块链的交互，如链同步、发送消息、赢得赢票等，都是由链服务处理的。这个想法是许多存储提供者都可以共用一套链服务，从而减少维护成本。本地组件提供了一整套算力服务。如果您选择使用第三方托管的 Venus 链服务，您只要将花费大部分时间在独立模块上。另请注意，"),n("code",[e._v("venus-market")]),e._v("和"),n("code",[e._v("venus-wallet")]),e._v("模块可以作为链服务或本地组件部署。")]),e._v(" "),n("table",[n("thead",[n("tr",[n("th",[e._v("name")]),e._v(" "),n("th",[e._v("role")]),e._v(" "),n("th",[e._v("Chain_Service/Local")])])]),e._v(" "),n("tbody",[n("tr",[n("td",[n("a",{attrs:{href:"https://github.com/filecoin-project/venus",target:"_blank",rel:"noopener noreferrer"}},[e._v("venus"),n("OutboundLink")],1)]),e._v(" "),n("td",[e._v("daemon for chain interactions")]),e._v(" "),n("td",[e._v("Chain_Service")])]),e._v(" "),n("tr",[n("td",[n("a",{attrs:{href:"https://github.com/filecoin-project/venus-miner",target:"_blank",rel:"noopener noreferrer"}},[e._v("venus-miner"),n("OutboundLink")],1)]),e._v(" "),n("td",[e._v("block winning and proving")]),e._v(" "),n("td",[e._v("Chain_Service")])]),e._v(" "),n("tr",[n("td",[n("a",{attrs:{href:"https://github.com/filecoin-project/venus-messager",target:"_blank",rel:"noopener noreferrer"}},[e._v("venus-messager"),n("OutboundLink")],1)]),e._v(" "),n("td",[e._v("chain message management")]),e._v(" "),n("td",[e._v("Chain_Service")])]),e._v(" "),n("tr",[n("td",[n("a",{attrs:{href:"https://github.com/filecoin-project/venus-auth",target:"_blank",rel:"noopener noreferrer"}},[e._v("venus-auth"),n("OutboundLink")],1)]),e._v(" "),n("td",[e._v("utility for authorized use of shared modules")]),e._v(" "),n("td",[e._v("Chain_Service")])]),e._v(" "),n("tr",[n("td",[n("a",{attrs:{href:"https://github.com/ipfs-force-community/venus-gateway",target:"_blank",rel:"noopener noreferrer"}},[e._v("venus-gateway"),n("OutboundLink")],1)]),e._v(" "),n("td",[e._v("utility for controlled access point of shared modules")]),e._v(" "),n("td",[e._v("Chain_Service")])]),e._v(" "),n("tr",[n("td",[n("a",{attrs:{href:"https://github.com/filecoin-project/venus-wallet",target:"_blank",rel:"noopener noreferrer"}},[e._v("venus-wallet"),n("OutboundLink")],1)]),e._v(" "),n("td",[e._v("addresses/keys management")]),e._v(" "),n("td",[e._v("Chain_Service/Local")])]),e._v(" "),n("tr",[n("td",[n("a",{attrs:{href:"https://github.com/ipfs-force-community/venus-cluster",target:"_blank",rel:"noopener noreferrer"}},[e._v("venus-cluster"),n("OutboundLink")],1)]),e._v(" "),n("td",[e._v("job scheduling, sealing and proving")]),e._v(" "),n("td",[e._v("Local")])]),e._v(" "),n("tr",[n("td",[n("a",{attrs:{href:"https://github.com/filecoin-project/venus-market",target:"_blank",rel:"noopener noreferrer"}},[e._v("venus-market"),n("OutboundLink")],1)]),e._v(" "),n("td",[e._v("deal making")]),e._v(" "),n("td",[e._v("Chain_Service/Local")])]),e._v(" "),n("tr",[n("td",[n("s",[n("a",{attrs:{href:"https://github.com/filecoin-project/venus-sealer",target:"_blank",rel:"noopener noreferrer"}},[e._v("venus-sealer"),n("OutboundLink")],1),e._v(", "),n("a",{attrs:{href:"https://github.com/filecoin-project/venus-sealer",target:"_blank",rel:"noopener noreferrer"}},[e._v("venus-worker"),n("OutboundLink")],1)])]),e._v(" "),n("td",[e._v("‼️Deprecated; "),n("s",[e._v("job scheduling, sealing and proving")])]),e._v(" "),n("td",[n("s",[e._v("Local")])])])])]),e._v(" "),n("h2",{attrs:{id:"服务架构"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#服务架构"}},[e._v("#")]),e._v(" 服务架构")]),e._v(" "),n("p",[e._v("下图展示了 venus 模块如何相互交互。")]),e._v(" "),n("p",[n("img",{attrs:{src:s(325),alt:"venus-cluster"}})]),e._v(" "),n("h2",{attrs:{id:"硬件要求"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#硬件要求"}},[e._v("#")]),e._v(" 硬件要求")]),e._v(" "),n("p",[e._v("在"),n("a",{attrs:{href:"https://github.com/filecoin-project/community-china/discussions/18",target:"_blank",rel:"noopener noreferrer"}},[e._v("此处"),n("OutboundLink")],1),e._v("了解有关硬件要求的更多信息。或者参阅我们的"),n("a",{attrs:{href:"https://venus.filecoin.io/zh/operation/example-single-box.html",target:"_blank",rel:"noopener noreferrer"}},[e._v("单机配置示例"),n("OutboundLink")],1),e._v("。")]),e._v(" "),n("div",{staticClass:"custom-block warning"},[n("p",{staticClass:"custom-block-title"},[e._v("注意")]),e._v(" "),n("p",[e._v("使用"),n("code",[e._v("venus-cluster")]),e._v("时，请参阅"),n("code",[e._v("venus-cluster")]),n("a",{attrs:{href:"https://mp.weixin.qq.com/s/AxEaV2iZT8-8jOKyMoFRvA",target:"_blank",rel:"noopener noreferrer"}},[e._v("性能测试"),n("OutboundLink")],1),e._v("中，社区成员使用的硬件，并作出对自己的最优调整。如有问题可以寻求"),n("a",{attrs:{href:"https://venushub.io/master/",target:"_blank",rel:"noopener noreferrer"}},[e._v("Venus Master"),n("OutboundLink")],1),e._v("的帮助。")])]),e._v(" "),n("h2",{attrs:{id:"venus-组件构建"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#venus-组件构建"}},[e._v("#")]),e._v(" Venus 组件构建")]),e._v(" "),n("p",[e._v("本文档各组件以 "),n("code",[e._v("TAG:v1.0.0")]),e._v(" 为例说明，实际场景中按需检出。")]),e._v(" "),n("blockquote",[n("p",[e._v("每个组件的构建相互独立，无顺序之分。")])]),e._v(" "),n("h3",{attrs:{id:"环境准备"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#环境准备"}},[e._v("#")]),e._v(" 环境准备")]),e._v(" "),n("p",[e._v("系统需要安装 "),n("code",[e._v("Go")]),e._v(","),n("code",[e._v("Rust")]),e._v("等必要软件，可以参考 "),n("code",[e._v("lotus")]),e._v(" 文档中的相应部分 "),n("a",{attrs:{href:"https://lotus.filecoin.io/lotus/install/linux/#building-from-source",target:"_blank",rel:"noopener noreferrer"}},[e._v("building-from-source"),n("OutboundLink")],1),e._v("。")]),e._v(" "),n("p",[n("code",[e._v("Venus")]),e._v(" 组件均在 "),n("code",[e._v("github")]),e._v(" 开源，通常用 "),n("code",[e._v("git")]),e._v(" 管理，"),n("code",[e._v("git")]),e._v(" 命令使用可参考 "),n("a",{attrs:{href:"https://git-scm.com/book/en/v2/Git-Branching-Remote-Branches",target:"_blank",rel:"noopener noreferrer"}},[e._v("Branching-Remote-Branches"),n("OutboundLink")],1)]),e._v(" "),n("p",[e._v("部分组件依赖"),n("code",[e._v("filecoin-ffi")]),e._v(", "),n("code",[e._v("Filecoin")]),e._v("官方提供了编译好的静态库文件。如果需要源码编译此静态库，可参考 "),n("a",{attrs:{href:"https://lotus.filecoin.io/lotus/install/linux/#native-filecoin-ffi",target:"_blank",rel:"noopener noreferrer"}},[e._v("native-filecoin-ffi"),n("OutboundLink")],1),e._v(",通常"),n("code",[e._v("venus-cluster")]),e._v("或"),n("code",[e._v("venus-sealer")]),e._v("源码编译此库以提升扇区封装效率。")]),e._v(" "),n("h3",{attrs:{id:"venus-auth"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#venus-auth"}},[e._v("#")]),e._v(" venus-auth")]),e._v(" "),n("div",{staticClass:"language-shell script extra-class"},[n("pre",{pre:!0,attrs:{class:"language-shell"}},[n("code",[e._v("$ "),n("span",{pre:!0,attrs:{class:"token function"}},[e._v("git")]),e._v(" clone https://github.com/filecoin-project/venus-auth.git\n$ "),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[e._v("cd")]),e._v(" venus-auth\n$ "),n("span",{pre:!0,attrs:{class:"token function"}},[e._v("git")]),e._v(" checkout -b v1.0.0 v1.0.0\n$ "),n("span",{pre:!0,attrs:{class:"token function"}},[e._v("make")]),e._v(" \n")])])]),n("h3",{attrs:{id:"venus"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#venus"}},[e._v("#")]),e._v(" venus")]),e._v(" "),n("div",{staticClass:"language-shell script extra-class"},[n("pre",{pre:!0,attrs:{class:"language-shell"}},[n("code",[e._v("$ "),n("span",{pre:!0,attrs:{class:"token function"}},[e._v("git")]),e._v(" clone https://github.com/filecoin-project/venus.git\n$ "),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[e._v("cd")]),e._v(" venus\n$ "),n("span",{pre:!0,attrs:{class:"token function"}},[e._v("git")]),e._v(" checkout -b v1.0.0 v1.0.0\n$ "),n("span",{pre:!0,attrs:{class:"token function"}},[e._v("git")]),e._v(" submodule update --init --recursive\n$ "),n("span",{pre:!0,attrs:{class:"token function"}},[e._v("make")]),e._v(" deps\n$ "),n("span",{pre:!0,attrs:{class:"token function"}},[e._v("make")]),e._v("\n")])])]),n("h3",{attrs:{id:"venus-gateway"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#venus-gateway"}},[e._v("#")]),e._v(" venus-gateway")]),e._v(" "),n("div",{staticClass:"language-shell script extra-class"},[n("pre",{pre:!0,attrs:{class:"language-shell"}},[n("code",[e._v("$ "),n("span",{pre:!0,attrs:{class:"token function"}},[e._v("git")]),e._v(" clone https://github.com/ipfs-force-community/venus-gateway.git\n$ "),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[e._v("cd")]),e._v(" venus-gateway\n$ "),n("span",{pre:!0,attrs:{class:"token function"}},[e._v("git")]),e._v(" checkout -b v1.0.0 v1.0.0\n$ "),n("span",{pre:!0,attrs:{class:"token function"}},[e._v("git")]),e._v(" submodule update --init --recursive\n$ "),n("span",{pre:!0,attrs:{class:"token function"}},[e._v("make")]),e._v("\n")])])]),n("p",[e._v("如果遇到编译错误："),n("code",[e._v("github.com/dgraph-io/badger/v3@v3.2011.1/fb/BlockOffset.go:6:2: missing go.sum entry for module providing package github.com/google/flatbuffers/go (imported by github.com/dgraph-io/badger/v3/table); to add: go get github.com/dgraph-io/badger/v3/table@v3.2011.1")]),e._v(" ,先执行：")]),e._v(" "),n("div",{staticClass:"language-shell script extra-class"},[n("pre",{pre:!0,attrs:{class:"language-shell"}},[n("code",[e._v("$ go get github.com/google/flatbuffers@v1.12.1\n")])])]),n("h3",{attrs:{id:"venus-messager"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#venus-messager"}},[e._v("#")]),e._v(" venus-messager")]),e._v(" "),n("div",{staticClass:"language-shell script extra-class"},[n("pre",{pre:!0,attrs:{class:"language-shell"}},[n("code",[e._v("$ "),n("span",{pre:!0,attrs:{class:"token function"}},[e._v("git")]),e._v(" clone https://github.com/filecoin-project/venus-messager.git\n$ "),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[e._v("cd")]),e._v(" venus-messager\n$ "),n("span",{pre:!0,attrs:{class:"token function"}},[e._v("git")]),e._v(" checkout -b v1.0.0 v1.0.0\n$ "),n("span",{pre:!0,attrs:{class:"token function"}},[e._v("make")]),e._v(" \n")])])]),n("h3",{attrs:{id:"venus-miner"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#venus-miner"}},[e._v("#")]),e._v(" venus-miner")]),e._v(" "),n("div",{staticClass:"language-shell script extra-class"},[n("pre",{pre:!0,attrs:{class:"language-shell"}},[n("code",[e._v("$ "),n("span",{pre:!0,attrs:{class:"token function"}},[e._v("git")]),e._v(" clone https://github.com/filecoin-project/venus-miner.git\n$ "),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[e._v("cd")]),e._v(" venus-miner\n$ "),n("span",{pre:!0,attrs:{class:"token function"}},[e._v("git")]),e._v(" checkout -b v1.0.0 v1.0.0\n$ "),n("span",{pre:!0,attrs:{class:"token function"}},[e._v("git")]),e._v(" submodule update --init --recursive\n$ "),n("span",{pre:!0,attrs:{class:"token function"}},[e._v("make")]),e._v("\n")])])]),n("h3",{attrs:{id:"venus-market"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#venus-market"}},[e._v("#")]),e._v(" venus-market")]),e._v(" "),n("p",[e._v("参考 "),n("code",[e._v("venus-market")]),e._v(" 项目的 "),n("code",[e._v("readme")]),e._v(" 文档中 "),n("a",{attrs:{href:"https://github.com/filecoin-project/venus-market#readme",target:"_blank",rel:"noopener noreferrer"}},[e._v("Build"),n("OutboundLink")],1)]),e._v(" "),n("h3",{attrs:{id:"venus-wallet"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#venus-wallet"}},[e._v("#")]),e._v(" venus-wallet")]),e._v(" "),n("p",[e._v("参考 "),n("code",[e._v("venus-wallet")]),e._v(" 项目的 "),n("code",[e._v("readme")]),e._v(" 文档中 "),n("a",{attrs:{href:"https://github.com/filecoin-project/venus-wallet#readme",target:"_blank",rel:"noopener noreferrer"}},[e._v("Build"),n("OutboundLink")],1)]),e._v(" "),n("h3",{attrs:{id:"venus-cluster"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#venus-cluster"}},[e._v("#")]),e._v(" venus-cluster")]),e._v(" "),n("p",[e._v("参考 "),n("code",[e._v("venus-cluster")]),e._v(" 项目的文档 "),n("code",[e._v("05.快速启用.md")]),e._v(" 中 "),n("a",{attrs:{href:"https://github.com/ipfs-force-community/venus-cluster/blob/main/docs/zh/05.%E5%BF%AB%E9%80%9F%E5%90%AF%E7%94%A8.md",target:"_blank",rel:"noopener noreferrer"}},[e._v("准备工作"),n("OutboundLink")],1)]),e._v(" "),n("h3",{attrs:{id:"venus-sealer-将弃用"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#venus-sealer-将弃用"}},[e._v("#")]),e._v(" venus-sealer(将弃用)")]),e._v(" "),n("div",{staticClass:"language-shell script extra-class"},[n("pre",{pre:!0,attrs:{class:"language-shell"}},[n("code",[e._v("$ "),n("span",{pre:!0,attrs:{class:"token function"}},[e._v("git")]),e._v(" clone https://github.com/filecoin-project/venus-sealer.git\n$ "),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[e._v("cd")]),e._v(" venus-sealer\n$ "),n("span",{pre:!0,attrs:{class:"token function"}},[e._v("git")]),e._v(" checkout -b v1.0.0 v1.0.0\n$ "),n("span",{pre:!0,attrs:{class:"token function"}},[e._v("git")]),e._v(" submodule update --init --recursive\n$ "),n("span",{pre:!0,attrs:{class:"token function"}},[e._v("make")]),e._v(" deps\n$ "),n("span",{pre:!0,attrs:{class:"token function"}},[e._v("make")]),e._v("\n")])])])])}),[],!1,null,null,null);t.default=a.exports}}]);